(kicad_sch
  (version 20250929)
  (generator "LineLightScript")
  (uuid 193bdb27-5ea3-48b2-ab89-d571790b30fb)
  (paper "A4")
  (title_block
    (title "LineLight-1")
    (company "Studio")
    (rev "A0")
    (comment 1 "Autogenerated starter schematic")
  )

(text "Audio I/O (TRS/through)" (at 20.00 20.00 0) (effects (font (size 2.2 2.2))))
(text "Op-Amp envelope detector + bias" (at 20.00 60.00 0) (effects (font (size 2.2 2.2))))
(text "ADC â†’ Pro Mini 5V" (at 120.00 60.00 0) (effects (font (size 2.2 2.2))))
(text "Lamp driver (logic-level N-MOSFET)" (at 120.00 20.00 0) (effects (font (size 2.2 2.2))))
(text "User controls (pots set FFT window)" (at 20.00 100.00 0) (effects (font (size 2.2 2.2))))
(symbol (lib_id "power:+12V") (at 145.00 14.00 0) (unit 1)
  (in_bom yes) (on_board yes)
  (uuid f6a746f7-9aef-4e2b-8443-0d5ba7d9c6a7)
  (property "Reference" "#PWR0101" (id 0) (at 145.00 12.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "+12V" (id 1) (at 145.00 16.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
)
(symbol (lib_id "power:+5V") (at 122.00 54.00 0) (unit 1)
  (in_bom yes) (on_board yes)
  (uuid 1f92721c-8b07-4fdf-a4c9-ede87cd0bc4c)
  (property "Reference" "#PWR0102" (id 0) (at 122.00 52.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "+5V" (id 1) (at 122.00 56.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
)
(symbol (lib_id "power:GND") (at 122.00 40.00 0) (unit 1)
  (in_bom yes) (on_board yes)
  (uuid 384cdb46-9d40-4665-ab87-bf9c4fdd8b95)
  (property "Reference" "#PWR0103" (id 0) (at 122.00 38.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "GND" (id 1) (at 122.00 42.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
)
(symbol (lib_id "Connector_Generic:Conn_01x03") (at 20.00 26.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid 1d212d14-d841-44ca-8e61-1b28282db763)
  (property "Reference" "J1" (id 0) (at 21.80 23.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "AUDIO_IN_TRS" (id 1) (at 21.80 28.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 20.00 26.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  (property "Comment" "Tip/Ring/Sleeve" (id 4) (at 20.00 32.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
)
(symbol (lib_id "Connector_Generic:Conn_01x03") (at 55.00 26.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid c39b9ee8-850f-40ef-a464-0ed63560fc85)
  (property "Reference" "J2" (id 0) (at 56.80 23.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "AUDIO_THRU" (id 1) (at 56.80 28.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 55.00 26.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  (property "Comment" "Tip/Ring/Sleeve" (id 4) (at 55.00 32.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
)
(symbol (lib_id "Amplifier_Operational:LM358") (at 55.00 72.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid a95f50e3-3789-493c-b94c-afeed9a45843)
  (property "Reference" "U1" (id 0) (at 56.80 69.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "LM358" (id 1) (at 56.80 74.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 55.00 72.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  
)
(symbol (lib_id "Device:R") (at 40.00 72.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid 53998b1a-bfb3-42d7-8aa5-6cfa97781268)
  (property "Reference" "R1" (id 0) (at 41.80 69.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "10k" (id 1) (at 41.80 74.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 40.00 72.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  
)
(symbol (lib_id "Device:C") (at 45.00 80.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid 0f5a1fe8-b0f3-4ab8-a7a7-77d1bbf4ad60)
  (property "Reference" "C1" (id 0) (at 46.80 77.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "1uF" (id 1) (at 46.80 82.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 45.00 80.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  
)
(symbol (lib_id "Device:R") (at 68.00 72.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid e2b48ff0-38cd-4fce-bc6c-6504dcb131b5)
  (property "Reference" "R2" (id 0) (at 69.80 69.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "100k" (id 1) (at 69.80 74.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 68.00 72.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  
)
(symbol (lib_id "Device:R") (at 68.00 80.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid 435203cd-f4d7-499a-9db8-7a80d439b8bd)
  (property "Reference" "R3" (id 0) (at 69.80 77.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "100k" (id 1) (at 69.80 82.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 68.00 80.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  
)
(symbol (lib_id "Device:D_Schottky") (at 80.00 66.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid b8c422ad-2891-467f-8dfb-2a28ebb213f5)
  (property "Reference" "D1" (id 0) (at 81.80 63.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "BAT54" (id 1) (at 81.80 68.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 80.00 66.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  
)
(symbol (lib_id "Device:D_Schottky") (at 80.00 78.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid ce221c40-ea34-4eb5-b39a-18e0626b603f)
  (property "Reference" "D2" (id 0) (at 81.80 75.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "BAT54" (id 1) (at 81.80 80.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 80.00 78.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  
)
(symbol (lib_id "Device:R") (at 110.00 72.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid 1a50bb0d-c793-4038-9bc2-1cc127c759bd)
  (property "Reference" "R4" (id 0) (at 111.80 69.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "10k" (id 1) (at 111.80 74.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 110.00 72.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  (property "Comment" "Series to A0" (id 4) (at 110.00 78.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
)
(symbol (lib_id "Device:C") (at 116.00 78.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid 055f0689-ca6b-4815-a83f-246fedfd8d3a)
  (property "Reference" "C2" (id 0) (at 117.80 75.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "1nF" (id 1) (at 117.80 80.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 116.00 78.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  (property "Comment" "RC to GND" (id 4) (at 116.00 84.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
)
(symbol (lib_id "Device:R") (at 116.00 66.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid cccf9626-8a45-442f-86c9-0246902dd3b4)
  (property "Reference" "R5" (id 0) (at 117.80 63.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "100k" (id 1) (at 117.80 68.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 116.00 66.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  (property "Comment" "Bias divider top" (id 4) (at 116.00 72.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
)
(symbol (lib_id "Device:R") (at 116.00 60.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid 1068fdcd-173a-417f-b995-5205d46773c8)
  (property "Reference" "R6" (id 0) (at 117.80 57.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "100k" (id 1) (at 117.80 62.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 116.00 60.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  (property "Comment" "Bias divider bottom" (id 4) (at 116.00 66.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
)
(global_label "ADC_A0" input (at 126.00 72.00 0) (effects (font (size 1.6 1.6))))
(symbol (lib_id "Connector_Generic:Conn_01x12") (at 150.00 70.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid b93270d9-80ce-453f-9dbd-442f5986f570)
  (property "Reference" "J3" (id 0) (at 151.80 67.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "ProMicro_Left" (id 1) (at 151.80 72.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 150.00 70.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  
)
(symbol (lib_id "Connector_Generic:Conn_01x12") (at 162.00 70.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid e96f0614-d590-4e19-953f-88f92ffbf2cf)
  (property "Reference" "J4" (id 0) (at 163.80 67.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "ProMicro_Right" (id 1) (at 163.80 72.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 162.00 70.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  
)
(global_label "D9_PWM" input (at 146.00 48.00 0) (effects (font (size 1.6 1.6))))
(global_label "+5V" input (at 124.00 54.00 0) (effects (font (size 1.6 1.6))))
(global_label "GND" input (at 124.00 40.00 0) (effects (font (size 1.6 1.6))))
(symbol (lib_id "Device:R_POT") (at 30.00 108.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid f2861878-d587-48e4-82b3-2aa605799a49)
  (property "Reference" "RV1" (id 0) (at 31.80 105.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "10k" (id 1) (at 31.80 110.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 30.00 108.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  (property "Comment" "LOW FREQ EDGE" (id 4) (at 30.00 114.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
)
(symbol (lib_id "Device:R_POT") (at 55.00 108.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid bc8408e0-01e3-434c-9fa2-a5ded50f40eb)
  (property "Reference" "RV2" (id 0) (at 56.80 105.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "10k" (id 1) (at 56.80 110.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 55.00 108.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  (property "Comment" "HIGH FREQ EDGE" (id 4) (at 55.00 114.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
)
(global_label "POT_LOW" input (at 35.00 116.00 0) (effects (font (size 1.6 1.6))))
(global_label "POT_HIGH" input (at 60.00 116.00 0) (effects (font (size 1.6 1.6))))
(global_label "+5V" input (at 22.00 104.00 0) (effects (font (size 1.6 1.6))))
(global_label "GND" input (at 22.00 112.00 0) (effects (font (size 1.6 1.6))))
(symbol (lib_id "Device:Q_NMOS_GDS") (at 140.00 26.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid d2ed6576-61d5-4007-bc38-1ea9deb1b357)
  (property "Reference" "Q1" (id 0) (at 141.80 23.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "AO3400A" (id 1) (at 141.80 28.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 140.00 26.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  (property "Comment" "Logic-level MOSFET" (id 4) (at 140.00 32.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
)
(symbol (lib_id "Device:R") (at 132.00 26.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid c3c1edd8-a042-45b8-a957-4620d3ffcaf2)
  (property "Reference" "R7" (id 0) (at 133.80 23.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "100" (id 1) (at 133.80 28.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 132.00 26.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  (property "Comment" "Gate series from D9" (id 4) (at 132.00 32.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
)
(symbol (lib_id "Device:R") (at 138.00 34.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid 27f20d9c-f14f-4bf6-b40f-55fa4ed4d796)
  (property "Reference" "R8" (id 0) (at 139.80 31.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "100k" (id 1) (at 139.80 36.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 138.00 34.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  (property "Comment" "Gate pulldown" (id 4) (at 138.00 40.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
)
(symbol (lib_id "Device:D") (at 172.00 26.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid 1bb4f092-09e1-45ba-a8e4-4737ae43dfd0)
  (property "Reference" "D3" (id 0) (at 173.80 23.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "Flyback" (id 1) (at 173.80 28.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 172.00 26.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  (property "Comment" "Across lamp" (id 4) (at 172.00 32.00 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
)
(symbol (lib_id "Connector_Generic:Conn_01x02") (at 180.00 26.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid 9a411043-ed3b-416a-a2c1-2952c719bc2b)
  (property "Reference" "J5" (id 0) (at 181.80 23.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "Lamp_OUT" (id 1) (at 181.80 28.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 180.00 26.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  
)
(symbol (lib_id "Connector_Generic:Conn_01x02") (at 152.00 14.00 0) (unit 1)
  (in_bom yes) (on_board yes) (fields_autoplaced)
  (uuid 28a20bc5-9dd8-450a-a629-4b29431bdcc7)
  (property "Reference" "J6" (id 0) (at 153.80 11.80 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  (property "Value" "Power_12V" (id 1) (at 153.80 16.20 0)
  (effects (font (size 1.27 1.27)) (justify left))
)
  
  (property "Datasheet" "~" (id 3) (at 152.00 14.00 0)
  (effects (font (size 1.27 1.27)) (justify left) hide)
)
  
)
(global_label "+12V" input (at 145.00 14.00 0) (effects (font (size 1.6 1.6))))
(global_label "GND" input (at 156.00 8.00 0) (effects (font (size 1.6 1.6))))
(global_label "LAMP+" input (at 176.00 32.00 0) (effects (font (size 1.6 1.6))))
(global_label "LAMP-" input (at 176.00 20.00 0) (effects (font (size 1.6 1.6))))
(polyline (pts (xy 15.00 10.00) (xy 105.00 10.00) (xy 105.00 45.00) (xy 15.00 45.00) (xy 15.00 10.00)) (stroke (width 0.1524) (type solid)) (uuid 0c449fe3-e648-486d-a946-66492ee926a0))
(polyline (pts (xy 15.00 50.00) (xy 105.00 50.00) (xy 105.00 90.00) (xy 15.00 90.00) (xy 15.00 50.00)) (stroke (width 0.1524) (type solid)) (uuid 4d5efdd2-502f-4559-bf00-654212522737))
(polyline (pts (xy 110.00 10.00) (xy 195.00 10.00) (xy 195.00 45.00) (xy 110.00 45.00) (xy 110.00 10.00)) (stroke (width 0.1524) (type solid)) (uuid 17f63629-cdce-4443-9c28-5e756690a409))
(polyline (pts (xy 15.00 95.00) (xy 105.00 95.00) (xy 105.00 122.00) (xy 15.00 122.00) (xy 15.00 95.00)) (stroke (width 0.1524) (type solid)) (uuid 3f23d0bd-0360-4b7e-8969-a2853c7a1ee1))
(text "Finish by wiring pins to labels on a 2.54 mm grid.
Annotate, then Assign Footprints.
Pro Mini pins: map A0, D9, +5V, GND accordingly." (at 110.00 96.00 0) (effects (font (size 1.4 1.4))))
  (path
    "/"
    (page "1")
  )
)